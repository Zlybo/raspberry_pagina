<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Monitor DHT11</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>

    <h1>Datos del sensor DHT11</h1>

    <p>Temperatura: <span id="temp">--</span> Â°C</p>
    <p>Humedad: <span id="hum">--</span> %</p>
    <p><span id="estado"></span></p>

    <script>
        function actualizarDatos() {
            $.get("/datos", function(data) {
                if (data.error) {
                    $("#estado").text("Error leyendo el sensor...");
                } else {
                    $("#temp").text(data.temperatura);
                    $("#hum").text(data.humedad);
                    $("#estado").text("");
                }
            });
        }

        // Actualizar cada 2 segundos
        setInterval(actualizarDatos, 2000);

        // Primera lectura
        actualizarDatos();
    </script>

</body>
</html>
